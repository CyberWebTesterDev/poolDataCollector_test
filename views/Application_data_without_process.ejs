<!DOCTYPE HTML>
<html>
 <head>
  <meta charset="utf-8">
  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico">
  <link rel="stylesheet" href="/public/css/bootstrap.css">
  <script src="/public/jquery-3.4.1.min.js"></script>
  <script src="/public/bootstrap.min.js"></script>
  <style type="text/css">
  .longtext {
      word-wrap: break-word;
      width: 700px;
    }
        body {
    background: #2F4F4F;
    color: #BC8F8F; 
    }
          .headlabel {
      text-align: center;
      font-family: "Times New Roman", Georgia, Serif;
      font-stretch: extra-expanded;
      font-size: 20px;
      color: #008080;
    }
    #processoff {
      text-align: center;
    }
    .nav-menu-rkk {
      margin-right: 100rem;
    }
       .table-block-div
    {
      text-align: center;
    }
    .table-block-div:hover
    {
      background-color: #c0d7d7;
      cursor: pointer;
    }
    h2
    {
      text-align: center;
    }

  </style>
  <title>RKK Adminkey</title>
 </head>
 <body>

  <div class="headlabel">

<h1>RKK Adminkey</h1>

</div>

<div class="nav-menu-rkk">
 <nav class="navbar navbar-dark bg-dark">
  <a href="http://localhost:3000/monitor/errors" target="_blank"><font size=3px>Топ ошибок</font></a>
</nav>
<nav class="navbar navbar-dark bg-dark">
<a href="http://localhost:3000/monitor/errors/do" target="_blank">Топ ошибок ДО</a>
</nav>
<nav class="navbar navbar-dark bg-dark">
<a href="http://localhost:3000/monitor/cards" target="_blank">Топ проблем с картами</a>
</nav>
<nav class="navbar navbar-dark bg-dark">
<a href="http://localhost:3000/monitor/integration" target="_blank">Топ интеграционных проблем</a>
</nav>
</div>


<p></p>


  <div class="alert alert-danger" role="alert" id=processoff>
  <font size="5">По заявке <%= appnum%> нет действующего процесса!</font>
  </div>
  <p></p>
  <a class="btn btn-primary" href="<%= link %>" role="button" target="_blank">Посмотреть в РКК</a>

<% if (credittype == 'Ипотечное кредитование') { %>
   <a class="btn btn-primary" href="https://ui-test.test-stand.tst.int.***.ru/lien/<%= appnum %>/estate-data " role="button" target="_blank">Данные ОН</a>
   <a class="btn btn-primary" href="https://ui-test.test-stand.tst.int.***.ru/history-real-estate/<%= appnum %>" role="button" target="_blank">История ОН</a>
<% }; %>
<% if (credittype == 'Потребительское кредитование') { %>
<a class="btn btn-primary" href="https://ui.test-stand.tst.int.***.ru/credit-request/<%= appnum %>/photo-album" role="button" target="_blank">Сканы документов</a>
<% } %>

<% if (credittype == 'Кредитование с использованием банковских карт') { %>
<a class="btn btn-primary" href="https://ui-test.test-stand.tst.int.***.ru/credit-request/<%= appnum %>/photo-album" role="button" target="_blank">Сканы документов</a>
<% } %>

<% if (credittype == 'Автокредитование') { %>
<a class="btn btn-primary" href="https://ui-test2.test-stand.tst.int.***.ru/credit-request/<%= appnum %>/photo-album" role="button" target="_blank">Сканы документов</a>
<% } %>

<% if (credittype == 'Ипотечное кредитование') { %>
<a class="btn btn-primary" href="https://ui-test.test-stand.tst.int.***.ru/credit-request/<%= appnum %>/photo-album" role="button" target="_blank">Сканы документов</a>
<% } %>
<a class="btn btn-primary" href="https://ui.test-stand.tst.int.***.ru/sling/info/<%= appnum %>" role="button" target="_blank">Список файлов</a>
<a class="btn btn-primary" href="https://ui.test-stand.tst.int.***.ru/sling/filelist/<%= appid %>" role="button" target="_blank">Метаданные файлов</a> 





  <p></p>



  <table class="table table-dark">
   <h2>Основные данные по заявке <%= appnum%></h2>
   <tr>
    <th><font color="#FFDAB9">ID Заявки</font></th>
    <th><font color="#FFDAB9">Направление</font></th>
    <th><font color="#FFDAB9">Программа</font></th>
    <th><font color="#FFDAB9">Канал поступления</font></th>
    <th><font color="#FFDAB9">Канал выдачи</font></th>
    <th><font color="#FFDAB9">Api</font></th>
    <th><font color="#FFDAB9">Код ДО</font></th>
    <th><font color="#FFDAB9">Статус</font></th>
    <th><font color="#FFDAB9">Дата создания заявки</font></th>
    <th><font color="#FFDAB9">Дата перехода в статус</font></th>
    <th><font color="#FFDAB9">Assignee</font></th>
    <th><font color="#FFDAB9">Метод</font></th>
   </tr>
   <tr>
 <td><%= appid%></td>
 <td><font color="#AFEEEE"><%= credittype%></font></td>
 <td><%= obj2[obj2.length-1].program_name%></td>
 <td><%= channel%></td>
 <% if (issue_channel === null || issue_channel === undefined) { %> 
 <td>NULL</td>
<% } else { %>
<td><%= issue_channel%></td>
<% } %>
  <% if (obj2[obj2.length-1].api == true) { %> 
<td><font color="green"><%= obj2[obj2.length-1].api %></font></td>
 <% }  if (obj2[obj2.length-1].api == false) { %>
 <td><font color="red"><%= obj2[obj2.length-1].api %></font></td>
 <% }  if (obj2[obj2.length-1].api === null || obj2[obj2.length-1].api === undefined) { %>
  <td><%= obj2[obj2.length-1].api%></td>
   <% }; %>
 <td><%= obj2[0].branch_unit_name%></td>
 <td><font color="#D2691E"><%= status %></font></td>

 <td><%= obj2[obj2.length-1].creation_date%></td>
 <th><%= obj2[obj2.length-1].date_status%></th>
 <th><%= obj2[obj2.length-1].assignee%></th>
 <td><%= method%></td>
  </tr>
  </table>

  <% if (credittype == 'Потребительское кредитование' || credittype == 'Автокредитование') { %>

  <p></p>
   <table class="table table-dark" id = "#t3">
  <h2>Параметры заявки</h2>
   <tr>
    <th><font color="#FFDAB9">Тип параметров</font></th>
    <th><font color="#FFDAB9">Версия субпрограммы</font></th>
    <th><font color="#FFDAB9">Сумма кредита</font></th>
    <th><font color="#FFDAB9">Ежемесячный платеж</font></th>
    <th><font color="#FFDAB9">Срок кредита</font></th>
    <th><font color="#FFDAB9">Доп.сумма(рефин)</font></th>
    <th><font color="#FFDAB9">Общая сумма долга(рефин)</font></th>
    <th><font color="#FFDAB9">Ставка</font></th>
    <th><font color="#FFDAB9">Тип платежа</font></th>
    <th><font color="#FFDAB9">Флаг подп. док.</font></th>
    <th><font color="#FFDAB9">Дата подписания</font></th>
    <th><font color="#FFDAB9">Наличие страховки</font></th>
    <th><font color="#FFDAB9">Подписант</font></th>
    <th><font color="#FFDAB9">День платежа</font></th>
    <th><font color="#FFDAB9">ПДН</font></th>
   </tr>
   <% params.forEach(function(el, i, arr) { %>
   <tr>
  <% if (params[i].case_partype !== 'Выданные') { %> 
 <td><%= params[i].case_partype%></td>
 <% }  else { %>
 <td><font color="#D2691E"><%= params[i].case_partype%></font></td>
 <% }; %>
 <td><%= params[i].sub_program_version%></td>
 <td><%= params[i].credit_amount%></td>
 <td><%= params[i].monthly_payment%></td>
 <td><%= params[i].credit_term%></td>
 <td><%= params[i].additional_amount%></td>
 <td><%= params[i].total_debt_amount%></td>
 <td><%= params[i].interest_rate%></td>
 <td><%= params[i].case_payment%></td>
    <% if (params[i].offer_signed !== true) { %> 
 <td><font color="red"><%= params[i].offer_signed %></font></td>
 <% }  else { %>
 <td><font color="#008000"><%= params[i].offer_signed %></font></td>
 <% }; %>

<td><%= params[i].date_sign %></td>

   <% if (params[i].insurance !== true) { %> 
 <td><font color="red"><%= params[i].insurance %></font></td>
 <% }  else { %>
 <td><font color="#008000"><%= params[i].insurance %></font></td>
 <% }; %>
 <td><%= params[i].signer_fio%></td>
 <td><%= params[i].payment_date%></td>
 <td><%= params[i].pdn%></td>
  </tr>
  <% }); %>
   <p></p>
  </table>
   <% }; %>

    <% if (credittype == 'Автокредитование') { %>

  <p></p>
   <table class="table table-dark" id = "#t3">
  <h2>Параметры заявки</h2>
   <tr>
    <th><font color="#FFDAB9">Тип параметров</font></th>
    <th><font color="#FFDAB9">Версия субпрограммы</font></th>
    <th><font color="#FFDAB9">Сумма кредита</font></th>
    <th><font color="#FFDAB9">Ежемесячный платеж</font></th>
    <th><font color="#FFDAB9">Срок кредита</font></th>
    <th><font color="#FFDAB9">Ставка</font></th>
    <th><font color="#FFDAB9">Тип платежа</font></th>
    <th><font color="#FFDAB9">Флаг подп. док.</font></th>
    <th><font color="#FFDAB9">Дата подписания</font></th>
    <th><font color="#FFDAB9">Наличие страховки</font></th>
    <th><font color="#FFDAB9">Подписант</font></th>
    <th><font color="#FFDAB9">День платежа</font></th>
    <th><font color="#FFDAB9">ПДН</font></th>
   </tr>
   <% params.forEach(function(el, i, arr) { %>
   <tr>
  <% if (params[i].case_partype !== 'Выданные') { %> 
 <td><%= params[i].case_partype%></td>
 <% }  else { %>
 <td><font color="#D2691E"><%= params[i].case_partype%></font></td>
 <% }; %>
 <td><%= params[i].sub_program_version%></td>
 <td><%= params[i].credit_amount%></td>
 <td><%= params[i].monthly_payment%></td>
 <td><%= params[i].credit_term%></td>
 <td><%= params[i].interest_rate%></td>
 <td><%= params[i].case_payment%></td>
    <% if (params[i].offer_signed !== true) { %> 
 <td><font color="red"><%= params[i].offer_signed %></font></td>
 <% }  else { %>
 <td><font color="#008000"><%= params[i].offer_signed %></font></td>
 <% }; %>
<td><%= params[i].date_sign %></td>

   <% if (params[i].insurance !== true) { %> 
 <td><font color="red"><%= params[i].insurance %></font></td>
 <% }  else { %>
 <td><font color="#008000"><%= params[i].insurance %></font></td>
 <% }; %>
 <td><%= params[i].signer_fio%></td>
 <td><%= params[i].payment_date%></td>
 <td><%= params[i].pdn%></td>
  </tr>
  <% }); %>
   <p></p>
  </table>
   <% }; %>

 <% if (credittype == 'Кредитование с использованием банковских карт') { %>

 <p></p>
   <table class="table table-dark" id = "#t3">
  <h2>Параметры заявки</h2>
   <tr>
    <th><font color="#FFDAB9">Тип параметров</font></th>
    <th><font color="#FFDAB9">Версия субпрограммы</font></th>
    <th><font color="#FFDAB9">Наименование субпрограммы</font></th>
    <th><font color="#FFDAB9">Платежная система</font></th>
    <th><font color="#FFDAB9">Категория карты</font></th>
    <th><font color="#FFDAB9">Сумма кредита</font></th>
    <th><font color="#FFDAB9">Ставка</font></th>
    <th><font color="#FFDAB9">Флаг подп. док.</font></th>
    <th><font color="#FFDAB9">Дата подписания</font></th>
    <th><font color="#FFDAB9">Продукт в 5NT</font></th>
    <th><font color="#FFDAB9">Тип персонификации</font></th>
   </tr>
   <% params.forEach(function(el, i, arr) { %>
   <tr>
 <td><%= params[i].card_par_type_id%></td>
 <td><%= params[i].sub_program_version%></td>
 <td><%= params[i].sub_program_name%></td>
 <td><%= params[i].payment_system%></td>
 <td><%= params[i].card_category%></td>
 <td><%= params[i].credit_amount%></td>
 <td><%= params[i].interest_rate%></td>
 <td><%= params[i].offer_signed%></td>
 <td><%= params[i].date_sign%></td>
 <td><%= params[i].five_nt_product_name%></td>
 <td><%= params[i].card_pers%></td>
  </tr>
  <% }); %>
   <p></p>
  </table>
   <% }; %>



<% if (credittype == 'Ипотечное кредитование') { %>


 <p></p>
   <table class="table table-dark" id = "#t3">
  <h2>Параметры заявки</h2>
   <tr>
    <th><font color="#FFDAB9">Тип параметров</font></th>
    <th><font color="#FFDAB9">Версия субпрограммы</font></th>
    <th><font color="#FFDAB9">Сумма кредита</font></th>
    <th><font color="#FFDAB9">Ежемесячный платеж</font></th>
    <th><font color="#FFDAB9">Срок кредита</font></th>
    <th><font color="#FFDAB9">Стоимость ОН</font></th>
    <th><font color="#FFDAB9">Вид рынка</font></th>
    <th><font color="#FFDAB9">Ставка</font></th>
    <th><font color="#FFDAB9">Тип платежа</font></th>
    <th><font color="#FFDAB9">Тип страхования</font></th>
    <th><font color="#FFDAB9">Дата подписания</font></th>
    <th><font color="#FFDAB9">Тип формы</font></th>
    <th><font color="#FFDAB9">Цель</font></th>
    <th><font color="#FFDAB9">№ дов.подписанта</font></th>
    <th><font color="#FFDAB9">Дата дов.подписанта</font></th>
   </tr>
   <% params.forEach(function(el, i, arr) { %>
   <tr>
  <% if (params[i].case_partype !== 'Выданные') { %> 
 <td><%= params[i].case_partype%></td>
 <% }  else { %>
 <td><font color="#D2691E"><%= params[i].case_partype%></font></td>
 <% }; %>
 <td><%= params[i].sub_program_version%></td>
 <td><%= params[i].credit_amount%></td>
 <td><%= params[i].monthly_payment%></td>
 <td><%= params[i].credit_term%></td>
 <td><%= params[i].real_estate_cost%></td>
 <td><%= params[i].case_market%></td>
 <td><%= params[i].interest_rate%></td>
 <td><%= params[i].case_payment%></td>
 <td><%= params[i].case_ins%></td>
 <td><%= params[i].date_sign%></td> 
 <td><%= params[i].signer_fio%></td>
 <td><%= params[i].case_target%></td>
 <td><%= params[i].signer_power_of_attorney_num%></td>
 <td><%= params[i].signer_power_of_attorney_date%></td>
  </tr>
  <% }); %>
   <p></p>
  </table>
   <% }; %>



<% if (credittype == 'Потребительское кредитование' || credittype == 'Автокредитование') { %>

<% if (akkPIP.length !== 0) { %>
   <p></p>

  <p></p>
   <table class="table table-dark" id = "#takk_PIP">
  <h2>Счета по заявке</h2>
   <tr>

    <th><font color="#FFDAB9">Номер счета</font></th>
    <th><font color="#FFDAB9">Номер карты</font></th>
    <th><font color="#FFDAB9">Счет выбран?</font></th>
    <th><font color="#FFDAB9">Зачисление</font></th>
    <th><font color="#FFDAB9">Списание</font></th>
    <th><font color="#FFDAB9">Дата открытия счета</font></th>
    <th><font color="#FFDAB9">Баланс</font></th>
    <th><font color="#FFDAB9">Счет новый?</font></th>
    <th><font color="#FFDAB9">ДКО</font></th>
    <th><font color="#FFDAB9">Номер договора в 5NT</font></th>
   </tr>
   <% akkPIP.forEach(function(el, i, arr) { %>
   <tr>
 <td><%= akkPIP[i].acc_number %></td>
 <td><%= akkPIP[i].card_number %></td>
  <% if (akkPIP[i].selected !== true) { %> 
 <td><font color="red"><%= akkPIP[i].selected %></font></td>
  <% }  else { %>
   <td><font color="#008000"><%= akkPIP[i].selected %></font></td>
 <% }; %>
 <td><%= akkPIP[i].enrollment %></td>
 <td><%= akkPIP[i].withdrawal %></td>
 <td><%= akkPIP[i].acc_open_date %></td>
 <td><%= akkPIP[i].balance %></td>
 <td><%= akkPIP[i].new_account %></td>
 <td><%= akkPIP[i].dko %></td>
 <td><%= akkPIP[i].five_nt_contract_number %></td>
  </tr>
  <% }); %>
   <p></p>
  </table>
  <% }; %>
  <% }; %>

  <% if (credittype == 'Автокредитование') { %>

<% if (vehicle.length !== 0) { %>
   <p></p>

  <p></p>
   <table class="table table-dark" id = "#vehicle">
  <h2>Информация об автомобиле</h2>
   <tr>
    <th><font color="#FFDAB9">Марка и модель</font></th>
    <th><font color="#FFDAB9">Стоимость</font></th>
    <th><font color="#FFDAB9">Признак каско</font></th>
    <th><font color="#FFDAB9">Признак залога</font></th>
    <th><font color="#FFDAB9">Признак новизны</font></th>
   </tr>
   <% vehicle.forEach(function(el, i, arr) { %>
 <tr>
 <td><%= vehicle[i].car_mark_and_model %></td>
 <td><%= vehicle[i].cost %></td>
 <td><%= vehicle[i].is_kasko %></td>
 <td><%= vehicle[i].is_pledge %></td>
 <td><%= vehicle[i].is_new_car %></td>
 </tr>
  <% }); %>
   <p></p>
  </table>
  <% }; %>
  <% }; %>

   <% if (akkcard.length !== 0) { %>
   <p></p>
   <table class="table table-dark" id = "#takk_KK">
  <h2>Информация по карте</h2>
   <tr>

    <th><font color="#FFDAB9">Номер карты</font></th>
    <th><font color="#FFDAB9">ID запроса в 5NT</font></th>
    <th><font color="#FFDAB9">Статус карты в 5NT</font></th>
    <th><font color="#FFDAB9">Дата истечения карты</font></th>
    <th><font color="#FFDAB9">Кодовое слово</font></th>
    <th><font color="#FFDAB9">Комментарий</font></th>
   </tr>
   <% akkcard.forEach(function(el, i, arr) { %>
   <tr>
 <td><%= akkcard[i].card_number %></td>
 <td><%= akkcard[i].card_request_id %></td>
 <td><%= akkcard[i].card_status %></td>
 <td><%= akkcard[i].card_expiration_date %></td>
 <td><%= akkcard[i].code_word  %></td>
 <td><%= akkcard[i].comment %></td>
  </tr>
  <% }); %>
   <p></p>
  </table>
   <% }; %>


<% if (refin.length) { %>

   <table class="table table-dark" id = "#tacc">
  <h2>Рефинансируемые обязательства по заявке</h2>
   <tr>

    <th><font color="#FFDAB9">Источник</font></th>
    <th><font color="#FFDAB9">Тип</font></th>
    <th><font color="#FFDAB9">Номер договора</font></th>
    <th><font color="#FFDAB9">Внешний банк</font></th>
    <th><font color="#FFDAB9">Сумма договора</font></th>
    <th><font color="#FFDAB9">Ставка</font></th>
    <th><font color="#FFDAB9">Сумма долга по БКИ</font></th>
    <th><font color="#FFDAB9">Сумма долга по справке</font></th>
    <th><font color="#FFDAB9">Справка удалена?</font></th>
    <th><font color="#FFDAB9">Ежемесячный платеж</font></th>
    <th><font color="#FFDAB9">Номер счета</font></th>
    <th><font color="#FFDAB9">Дата договора</font></th>
   </tr>
   
   <% refin.forEach(function(el, i, arr) { %>
   <tr>
 <td><%= refin[i].source %></td>
 <td><font color="#AFEEEE"><%= refin[i].typeliab %></font></td>
 <td><%= refin[i].contract_number %></td>
 <td><%= refin[i].purpose_of_payment.split('и ')[1] %></td>
 <td><%= refin[i].contract_amount %></td>
 <td><%= refin[i].interest_rate %></td>
 <td><%= refin[i].bki_debt_amount %></td>
 <td><%= refin[i].statement_debt_amount %></td>
 <td><%= refin[i].statement_debt_deleted %></td>
 <td><%= refin[i].monthly_payment_amount %></td>
 <td><%= refin[i].account_number %></td>
 <td><%= refin[i].start_contract_date %></td>
  </tr>
  <% }); %>
  </table>
  <% }; %>


<p></p>

<div class="table-block-div"><a id="#bhidej" onclick="hidejournal()" style="display: block"><font size="6">&darr; Расширенный журнал статусов по заявке</font></a></div>

  <table class="table table-striped table-dark" id = "#tjournal" style="display: block">
  
   <tr>
    <th scope="col" class="colp"><font color="#FFDAB9">Дата, время перехода в статус</font></th>
    <th scope="col" class="colp"><font color="#FFDAB9">Имя статуса</font></th>
    <th scope="col" class="colp"><font color="#FFDAB9">Решение СПР</font></th>
    <th scope="col" class="colp"><font color="#FFDAB9">ФИО и логин сотрудника</font></th>
    <th scope="col" class="colp"><font color="#FFDAB9">Роль сотрудника</font></th>
    <th scope="col" class="colp"><font color="#FFDAB9">Этап и статус андеррайтинга</font></th>
    <th scope="col" class="colp"><font color="#FFDAB9">Дата, время закрытия статуса</font></th>
   </tr>
<tr>
   <% stat.forEach(function(el, i, arr) { %>
 
 <tr>
 <td><%= stat[i].start_date %></td>
 <td><font color="#AFEEEE"><%= stat[i].status_name %></font></td>
 <td><%= stat[i].rtdm_decision_name %></td>
 <th><%= stat[i].u_fio +" "+ stat[i].u_login %></th>
 <td><%= stat[i].u_role %></td>
 <td><%= stat[i].und_stage +" "+ stat[i].und_status_name %></td>
 <td><%= stat[i].end_date %></td> 
  </tr>
 <% }); %>

</table>

<p></p>

<div class="table-block-div"><a id="#bhidev" onclick="hideevents()" style="display: block"><font size="6">&darr; Журнал событий по заявке</font></a></div>


  <table class="table table-striped table-dark" id = "#tevents" style="display: none">
  
   <tr>
    <th scope="col" class="colp"><font color="#FFDAB9">Дата, время события</font></th>
    <th scope="col" class="colp"><font color="#FFDAB9">Имя события</font></th>
    <th scope="col" class="colp"><font color="#FFDAB9">Логин сотрудника, связанного с событием</font></th>
   </tr>
<tr>
   <% event.forEach(function(el, i, arr) { %>
 
 <tr>
 <td><%= event[i].event_time %></td>
 <td><font color="#AFEEEE"><%= event[i].event_description %></font></td>
 <td><%= event[i].value %></td>
  </tr>
 <% }); %>

</table>

 <p></p>

  <!--<a class="btn btn-outline-primary" type="submit" id="#bhidet2" onclick="hide3()" style="display: block">&darr; Скрыть таблицу</a>-->
  <div class="table-block-div"><a id="#bshowt2" onclick="hide3()" style="display: block"><font size="6">&rarr; Интеграционные логи по заявке</font></a></div>
  <button type="submit" onclick="showlongtext()">Показать/скрыть ВСЕ запросы/ответы</button>
  <!--<h2>Интеграционные логи по заявке <%= appnum%><font size="24">&#8593;</font></h2>-->
  <table class="table table-striped table-dark" id = "#t2" style="display: none">
  
 <tr>
    <th scope="col" class="colp"><font color="#FFDAB9">interaction ID</font></th>
    <th scope="col" class="colp"><font color="#FFDAB9">Целевая система (Endpoint)</font></th>
    <th scope="col" class="colp"><font color="#FFDAB9">Результат</font></th>
    <th scope="col" class="colp"><font color="#FFDAB9">Текст ошибки</font></th>
    <th scope="col" class="colp"><font color="#FFDAB9">Дата, время интеграции</font></th>
    <th scope="col" class="colp"><font color="#FFDAB9">Запрос/ответ</font></th>
 </tr>

   <% int.forEach(function(el, i, arr) { %>
 
 <tr>
 <td><%= int[i].interaction_id %></td>
 <td><font color="#AFEEEE"><%= int[i].System %></font></td>
 <td><%= int[i].result %></td>
 <td><font color="#FF6347"><%= int[i].error_description %></font></td>
 <td><%= int[i].interaction_ts %></td> 
<td >
    <button type="submit" onclick="hide_<%=i%>()">Показать/скрыть запрос/ответ</button>
    <p class="longtext" id="<%=i%>_long" style="display: none">
     <font color="#FF8C00"><%= int[i].body %></font>
    </p>
 </td>
</tr>
 <% }); %>

</table>

<% int.forEach(function(el, i, arr) { %>
<script>

    function hide_<%=i%>() {

      var elem = document.getElementById("<%=i%>_long");
      if (elem.style.display === "none") {


        elem.style.display = "block";
      } else {

        elem.style.display = "none";
      }

    }

</script>
<% }); %>

<script type="text/javascript">


             function hide3() {

      var elem = document.getElementById("#t2");

      var btn_hide = document.getElementById("#bhidet2");

      var btn_show = document.getElementById("#bshowt2");
      
      if (elem.style.display === "none") {


        elem.style.display = "block";
       // btn_show.style.display = "none";
      //  btn_hide.style.display = "block";


      } else {

        elem.style.display = "none";
      //  btn_show.style.display = "block";
      //  btn_hide.style.display = "none";


      }

    }

             function hideevents() {

      var elem = document.getElementById("#tevents");

      var btn_hide = document.getElementById("#bhidev");

      var btn_show = document.getElementById("#bshowev");
      
      if (elem.style.display === "none") {


        elem.style.display = "block";
      //  btn_show.style.display = "none";
      //  btn_hide.style.display = "block";


      } else {

        elem.style.display = "none";
       // btn_show.style.display = "block";
       // btn_hide.style.display = "none";


      }

    }


             function hidejournal() {

      var elem = document.getElementById("#tjournal");

      var btn_hide = document.getElementById("#bhidej");

      var btn_show = document.getElementById("#bshowj");
      
      if (elem.style.display === "none") {


        elem.style.display = "block";
      //  btn_show.style.display = "none";
       // btn_hide.style.display = "block";


      } else {

        elem.style.display = "none";
       // btn_show.style.display = "block";
       // btn_hide.style.display = "none";


      }

    }



        function showlongtext() {

      var elem = document.getElementsByClassName('longtext');

      for (let i=0; i < elem.length; i++)

      {

      if (elem[i].style.display === "none") {


        elem[i].style.display = "block";
      } else {

        elem[i].style.display = "none";
      }

    }
  }


</script>



 </body>
</html>


